<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Editor — DataConecta</title>
  <link rel="stylesheet" href="editor/styles.css">
  <!-- Fabric will be loaded dynamically by editor.js (CDN + local fallback) -->
</head>
<body>
  <div class="editor-shell">
    <header class="editor-topbar">
      <div class="brand">DataConecta — Editor</div>
      <div class="top-actions">
        <button id="save-project" class="btn">Guardar</button>
        <button id="export-png" class="btn">Export PNG</button>
        <button id="export-css" class="btn">Export CSS</button>
        <button id="play-prototype" class="btn">Play Prototype</button>
        <button id="collab-toggle" class="btn">Colaborar (stub)</button>
      </div>
    </header>

    <div class="editor-main">
      <aside class="left-panel panel">
        <h4>Layers</h4>
        <div id="layers-list" class="layers-list"></div>

        <h4>Assets / Components</h4>
        <div id="components-list" class="components-list"></div>
        <div class="small-actions">
          <button id="create-component" class="btn small">Crear componente</button>
          <button id="insert-component" class="btn small">Insertar componente</button>
        </div>
      </aside>

      <section class="canvas-area panel">
        <div id="canvas-toolbar" class="canvas-toolbar">
          <button id="tool-rect" class="btn small">Rect</button>
          <button id="tool-text" class="btn small">Texto</button>
          <button id="tool-image" class="btn small">Imagen</button>
          <input id="image-file" type="file" accept="image/*" style="display:none" />
          <label for="zoom" class="muted">Zoom</label>
          <input id="zoom" type="range" min="0.25" max="3" step="0.05" value="1" />
          <button id="toggle-grid" class="btn small">Grid</button>
          <button id="undo" class="btn small">Undo</button>
          <button id="redo" class="btn small">Redo</button>
        </div>

        <div id="canvas-wrap" class="canvas-wrap">
          <canvas id="canvas"></canvas>
          <canvas id="heatmap-overlay" class="heatmap-overlay"></canvas>
        </div>

        <div class="prototype-strip" id="prototype-strip"></div>
      </section>

      <aside class="right-panel panel">
        <h4>Inspector</h4>
        <div id="inspector"></div>

        <hr/>
        <h4>Design tokens</h4>
        <label>Primary <input id="token-primary" type="color" /></label>
        <label>Font <input id="token-font" type="text" placeholder="Inter, system-ui" /></label>
        <button id="tokens-save" class="btn small">Guardar tokens</button>

        <hr/>
        <h4>Comments</h4>
        <div id="comments" class="comments"></div>
        <textarea id="comment-text" rows="3" placeholder="Comentario..."></textarea>
        <button id="comment-add" class="btn small">Agregar comentario</button>

        <hr/>
        <h4>Plugins</h4>
        <div id="plugins-list"></div>
      </aside>
    </div>
  </div>

  <script type="module" src="editor/editor.js"></script>
</body>
</html>
